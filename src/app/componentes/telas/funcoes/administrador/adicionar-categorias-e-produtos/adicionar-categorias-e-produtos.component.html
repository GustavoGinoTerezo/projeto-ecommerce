<div class="divGeral">
  <div class="containerInputs">
    <div class="containerNomeProdutoECategoria">
      <div class="divInputNome">
        <span class="p-float-label">
          <input pInputText id="username"
          [(ngModel)]="nome"
          />
          <label htmlFor="username"
          >Nome do Produto</label>
        </span>
      </div>
      <div class="divInputCpf">
        <p-dropdown [options]="countries" [(ngModel)]="selectedCountry" optionLabel="name" [filter]="true" filterBy="name" [showClear]="true" placeholder="Selecione a categoria">
          <ng-template pTemplate="selectedItem">
              <div class="flex align-items-center gap-2" *ngIf="selectedCountry">
                <div>{{ selectedCountry.name }}
                </div>
              </div>
          </ng-template>
          <ng-template let-country pTemplate="item">
              <div class="flex align-items-center gap-2">
                <div>{{ country.name }}</div>
              </div>
          </ng-template>
      </p-dropdown>
      </div>
    </div>
    <div class="containerPrecoEStatus">
      <div class="divInputEmail">
        <span class="p-float-label">
          <input pInputText id="username"
          [(ngModel)]="email"/>
          <label htmlFor="username">Preço</label>
        </span>
      </div>
      <div class="divInputTelefone">
        <p-dropdown [options]="cities"
        placeholder="Selecione o status" [(ngModel)]="selectedCity"
        [showClear]="true" optionLabel="name"></p-dropdown>
      </div>
    </div>
    <div class="containerDescricoes">
      <div class="divInputCep">
        <span class="p-float-label">
          <input pInputText id="username"
          [(ngModel)]="cep"/>
          <label htmlFor="username">Descrição breve do produto</label>
        </span>
      </div>
    </div>
    <div class="containerDescricoes">
      <div class="divInputCep">
        <span class="p-float-label">
          <input pInputText id="username"
          [(ngModel)]="cep"/>
          <label htmlFor="username">Descrição completa do produto</label>
        </span>
      </div>

    </div>
  </div>
  <div class="containerBotoes">
      <div class="divInputs">
        <p-button label="Adicionar produto" styleClass="p-button-raised p-button-success"></p-button>
      </div>
      <div class="divInputs">
        <p-button label="Atualizar produto" styleClass="p-button-raised p-button-warning"></p-button>
      </div>
      <div class="divInputs">
        <p-button label="Excluir produto" styleClass="p-button-raised p-button-danger"></p-button>
      </div>
      <div class="divInputs">
        <p-button label="Limpar campos"
        (click)="limparCampos()"
        styleClass="p-button-raised p-button-info"
        ></p-button>
      </div>

    </div>
  <div class="tabelaClientes">

      <p-table
      #dt
      [value]="categoriasFiltradas" selectionMode="single"
      [(selection)]="categoriasSelecionada"
      [rowHover]="true"
      [tableStyle]="{'min-width': '50rem'}"
      [paginator]="true"
      [rows]="5"
      [showCurrentPageReport]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [rowsPerPageOptions]="[5, 10, 15]"
      [filterDelay]="0"
      (onRowSelect)="updateInputFieldsWithSelectedUser()"
      >
      <ng-template pTemplate="caption">
        <div class="table-header">
            <span class="p-input-icon-left">
                <i class="pi pi-search"></i>
                <input pInputText type="text" (input)="filterTable($event)" placeholder="Buscar Produto" />
            </span>
        </div>
      </ng-template>
          <ng-template pTemplate="header">
              <tr>
                <th>Produto</th>
                <th>Quantidade</th>
                <th>Status</th>
                <th>Categoria</th>
              </tr>
          </ng-template>
          <ng-template pTemplate="body" let-categoria>
            <tr [pSelectableRow]="categoria" *ngFor="let produto of categoria?.produtos">
              <td>{{ produto?.nome }}</td>
              <td></td>
              <td></td>
              <td>{{ categoria?.nome }}</td>
            </tr>
          </ng-template>
      </p-table>
  </div>
</div>
